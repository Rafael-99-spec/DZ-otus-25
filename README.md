# ДЗ №25 Архитектура сетей
### Разворачиваем сетевую лабораторию
--------------------------------------------------------------------------------------------

# otus-linux
Vagrantfile - для стенда урока 9 - Network

# Дано
https://github.com/erlong15/otus-linux/tree/network
(ветка network)

Vagrantfile с начальным построением сети
- inetRouter
- centralRouter
- centralServer

тестировалось на virtualbox

# Планируемая архитектура
построить следующую архитектуру

Сеть office1
- 192.168.2.0/26 - dev
- 192.168.2.64/26 - test servers
- 192.168.2.128/26 - managers
- 192.168.2.192/26 - office hardware

Сеть office2
- 192.168.1.0/25 - dev
- 192.168.1.128/26 - test servers
- 192.168.1.192/26 - office hardware

Сеть central
- 192.168.0.0/28 - directors
- 192.168.0.32/28 - office hardware
- 192.168.0.64/26 - wifi

```
Office1 ---\
-----> Central --IRouter --> internet
Office2----/
```
Итого должны получится следующие сервера
- inetRouter
- centralRouter
- office1Router
- office2Router
- centralServer
- office1Server
- office2Server

# Теоретическая часть
- Найти свободные подсети
- Посчитать сколько узлов в каждой подсети, включая свободные
- Указать broadcast адрес для каждой подсети
- проверить нет ли ошибок при разбиении

# Практическая часть
- Соединить офисы в сеть согласно схеме и настроить роутинг
- Все сервера и роутеры должны ходить в инет черз inetRouter
- Все сервера должны видеть друг друга
- у всех новых серверов отключить дефолт на нат (eth0), который вагрант поднимает для связи
- при нехватке сетевых интервейсов добавить по несколько адресов на интерфейс

--------------------------------------------------------------------------------------------
### Выполнение ДЗ

# Теоретическая часть
- Найти свободные подсети
- Посчитать сколько узлов в каждой подсети, включая свободные
- Указать broadcast адрес для каждой подсети
- проверить нет ли ошибок при разбиении

__Сеть office1__

- 192.168.2.0/26 - dev
```
Адрес сети - 192.168.2.0/26 Маска - 255.255.255.192
Широковещательный адрес - 192.168.2.63/26
Пул доступных адресов для узлов сети - 192.168.2.1/26 - 192.168.2.62/26
Количество доступных адресов для клиентов - 62
```

- 192.168.2.64/26 - test servers
```
Адрес сети - 192.168.2.64 Маска - 255.255.255.192
Широковещательный адрес - 192.168.2.127
Пул доступных адресов для узлов сети - 192.168.2.65 - 192.168.2.126
Количество доступных адресов для клиентов - 62
```

- 192.168.2.128/26 - managers
```
Адрес сети - 192.168.2.128 Маска - 255.255.255.192
Широковещательный адрес - 192.168.2.191
Пул доступных адресов для узлов сети - 192.168.2.129 - 192.168.2.191
Количество доступных адресов для клиентов - 62
```

- 192.168.2.192/26 - office hardware
```
Адрес сети - 192.168.2.192 Маска - 255.255.255.192
Широковещательный адрес - 192.168.2.255
Пул доступных адресов для узлов сети - 192.168.2.193 - 192.168.2.254
Количество доступных адресов для клиентов - 62
```

__Сеть office2__

- 192.168.1.0/25 - dev
```
Адрес сети - 192.168.1.0 Маска - 255.255.255.128
Широковещательный адрес - 192.168.1.127
Пул доступных адресов для узлов сети - 192.168.1.1 - 192.168.1.126
Количество доступных адресов для клиентов - 126
```

- 192.168.1.128/26 - test servers
```
Адрес сети - 192.168.1.128 Маска - 255.255.255.192
Широковещательный адрес - 192.168.1.191
Пул доступных адресов для узлов сети - 192.168.1.129 - 192.168.1.190
Количество доступных адресов для клиентов - 62
```

- 192.168.1.192/26 - office hardware
```
Адрес сети - 192.168.1.192 Маска - 255.255.255.192
Широковещательный адрес - 192.168.1.255
Пул доступных адресов для узлов сети - 192.168.1.193 - 192.168.1.254
Количество доступных адресов для клиентов - 62
```

__Сеть central__

- 192.168.0.0/28 - directors
```
Адрес сети - 192.168.0.0 Маска - 255.255.255.240
Широковещательный адрес - 192.168.0.15
Пул доступных адресов для узлов сети - 192.168.0.1 - 192.168.0.14
Количество доступных адресов для клиентов - 14
```

- 192.168.0.32/28 - office hardware
```
Адрес сети - 192.168.0.32 Маска - 255.255.255.240
Широковещательный адрес - 192.168.0.47
Пул доступных адресов для узлов сети - 192.168.0.33 - 192.168.0.46
Количество доступных адресов для клиентов - 14
```

- 192.168.0.64/26 - wifi 
```
Адрес сети - 192.168.0.64 Маска - 255.255.255.192
Широковещательный адрес - 192.168.0.127
Пул доступных адресов для узлов сети - 192.168.0.65 - 192.168.0.126
Количество доступных адресов для клиентов - 62
```

__Свободные подсети__

- 192.168.0.16/28
```
Адрес сети - 192.168.0.16  Маска - 255.255.255.240
Широковещательный адрес - 192.168.0.31
Пул доступных адресов для узлов сети - 192.168.0.17 - 192.168.0.30
Количество доступных адресов для клиентов - 14
```

- 192.168.0.48/28
```
Адрес сети - 192.168.0.48 Маска - 255.255.255.240
Широковещательный адрес - 192.168.0.63
Пул доступных адресов для узлов сети - 192.168.0.49 - 192.168.0.62
Количество доступных адресов для клиентов - 14
```

- 192.168.0.128/25
```
Адрес сети - 192.168.0.128  Маска - 255.255.255.128
Широковещательный адрес - 192.168.0.255
Пул доступных адресов для узлов сети - 192.168.0.129 - 192.168.0.254
Количество доступных адресов для клиентов - 126
```

__Проверить нет ли ошибок при разбиении__

- Ошибок при разбиении не обнаружено, кроме пропущенных подсетей, которые отображены в __Свободные подсети__



# Практическая часть

Склонировать данный репозиторий, войти в папку ```DZ-otus-25/```, и поднять vagrant-стенд по команде ```vagrant up```.
![image](https://raw.githubusercontent.com/Rafael-99-spec/DZ-otus-25/Network scheme.drawio)
